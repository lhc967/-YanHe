<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In Riproduzione - Negoziazione Cinese Business</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root { --primary: #004aad; --bg-light: #f8faff; }
        body { padding-top: 70px; background: var(--bg-light); font-family: -apple-system, system-ui, sans-serif; }
        .navbar-custom { background: #fff; height: 70px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .nav-avatar { width: 38px; height: 38px; border-radius: 50%; }

        /* Contenitore Video (Stato Sbloccato) */
        .video-wrapper {
            background: #000; width: 100%; aspect-ratio: 16/9; border-radius: 12px; overflow: hidden; position: relative;
            display: flex; align-items: center; justify-content: center;
        }
        /* Interfaccia Video Simulata */
        .fake-video-ui {
            width: 100%; height: 100%; background: linear-gradient(45deg, #111, #222);
            position: relative; display: flex; flex-direction: column; justify-content: space-between;
        }
        .video-overlay-center {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #fff; text-align: center;
        }
        .progress-bar-video { height: 4px; background: rgba(255,255,255,0.2); width: 100%; position: absolute; bottom: 0; }
        .progress-fill { width: 0%; height: 100%; background: var(--primary); animation: playProgress 30s linear forwards; }

        @keyframes playProgress { to { width: 100%; } }

        /* Stile Playlist */
        .playlist-box { background: #fff; border-radius: 12px; height: 100%; border: 1px solid #eee; overflow: hidden; display: flex; flex-direction: column; }
        .chapter-item { padding: 15px; border-bottom: 1px solid #f9f9f9; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .chapter-item:hover { background: #f5faff; }
        .chapter-item.active { background: #eef6ff; border-left: 4px solid var(--primary); }
        .chapter-item.active .text-dark { color: var(--primary) !important; font-weight: bold; }

        .badge-vip { background: linear-gradient(135deg, #ffd700, #ffaa00); color: #fff; font-size: 10px; padding: 2px 6px; border-radius: 4px; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg fixed-top navbar-custom">
        <div class="container-fluid px-4">
            <a class="navbar-brand fw-bold text-primary" href="home_it.html">YanHe</a>
            <div class="d-flex align-items-center ms-auto gap-3">
                <a href="education_it.html" class="btn btn-outline-secondary btn-sm rounded-pill px-3">Torna ai Corsi</a>
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=LiHua" class="nav-avatar border">
            </div>
        </div>
    </nav>

    <div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 2000; margin-top: 80px;">
        <div id="unlockToast" class="toast align-items-center text-white bg-success border-0 show" role="alert">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-check-circle-fill me-2"></i> Acquisto riuscito! La lezione è stata sbloccata.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>

    <div class="container py-4">
        <div class="row g-4">
            <div class="col-lg-8">
                <div class="video-wrapper">
                    <div class="fake-video-ui">
                        <div class="p-3 text-white text-shadow small">04. Simulazione: Negoziazione a tavola</div>

                        <div class="video-overlay-center">
                            <i class="bi bi-play-circle" style="font-size: 50px; opacity: 0.8;"></i>
                            <div class="mt-2">In riproduzione...</div>
                        </div>

                        <div class="progress-bar-video">
                            <div class="progress-fill"></div>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <h2 class="fw-bold mb-0">04. Simulazione: Negoziazione a tavola</h2>
                        <button class="btn btn-primary rounded-pill px-4" onclick="alert('Assistente AI attivato!')"><i class="bi bi-robot"></i> Chiedi all'AI</button>
                    </div>
                    <div class="text-muted small mt-2">
                        <span><i class="bi bi-unlock-fill text-success"></i> Sbloccato</span>
                        <span class="mx-2">|</span>
                        <span>18:20</span>
                    </div>
                    <hr>
                    <div class="bg-light p-3 rounded small text-secondary">
                        <strong>Punti chiave della lezione:</strong>
                        <ul>
                            <li>Come rifiutare cortesemente un brindisi? (Polite Refusal)</li>
                            <li>Etichetta e ordine dei brindisi (Toasting Etiquette)</li>
                            <li>Applicazione pratica del "Mianzi" nelle trattative d'affari.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="playlist-box">
                    <div class="p-3 border-bottom bg-light fw-bold">Indice del Corso</div>

                    <div class="overflow-auto" style="max-height: 500px;">
                        <div class="chapter-item text-muted">
                            <span class="small">01. Intro: Mentalità Negoziale</span>
                            <i class="bi bi-check-circle-fill text-success"></i>
                        </div>
                        <div class="chapter-item text-muted">
                            <span class="small">02. Vocabolario: Offerta</span>
                            <i class="bi bi-check-circle-fill text-success"></i>
                        </div>
                        <div class="chapter-item text-muted">
                            <span class="small">03. Scenario: Primo Incontro</span>
                            <i class="bi bi-check-circle-fill text-success"></i>
                        </div>

                        <div class="chapter-item active">
                            <div>
                                <i class="bi bi-play-fill text-primary"></i>
                                <span class="small text-dark">04. Scenario: Tavola e Affari</span>
                            </div>
                            <span class="badge-vip">Sbloccato</span>
                        </div>

                        <div class="chapter-item">
                            <span class="small">05. Cultura: Concetto di Mianzi</span>
                            <i class="bi bi-lock-fill text-muted"></i>
                        </div>
                        <div class="chapter-item">
                            <span class="small">06. Analisi Termini Contrattuali</span>
                            <i class="bi bi-lock-fill text-muted"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Nascondi automaticamente il Toast dopo 3 secondi
        setTimeout(() => {
            var toastEl = document.getElementById('unlockToast');
            if (toastEl) {
                var toast = new bootstrap.Toast(toastEl);
                toast.hide();
            }
        }, 3000);
    </script>
</body>
</html>